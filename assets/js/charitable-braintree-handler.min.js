!function(e){function o(e){if(e.__proto__.hasOwnProperty("remove_pending_process_by_name"))return e.remove_pending_process_by_name("braintree");if(e.__proto__.hasOwnProperty("remove_pending_process")){var n=this.pending_processes.indexOf("braintree");return-1!==n&&this.remove_pending_process(n)}e.pause_processing=!1}function r(e){braintree.dropin.create({authorization:CHARITABLE_BRAINTREE_VARS.client_token,container:"#charitable-braintree-dropin-container",venmo:{},paypal:{flow:"vault"}},function(e,n){t.on("charitable:form:validate",function(e,r){"braintree"===r.get_payment_method()&&0===r.errors.length&&(function(e){e.__proto__.hasOwnProperty("add_pending_process")?e.add_pending_process("braintree"):e.pause_processing=!0}(r),n.requestPaymentMethod(function(e,n){if(e)return r.add_error(e.message+" ["+e.name+"]"),o(r),!1;r.get_input("braintree_token").val(n.nonce),o(r)}))})})}var t=jQuery("body");t.on("charitable:form:initialize",function(e,n){r()})}();