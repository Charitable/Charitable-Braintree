!function(c){function e(){var e=c(".charitable-braintree-plans-wrap"),t=c("[name=_campaign_recurring_donation_mode]"),a=t.val(),n=c("[name=_campaign_recurring_donation_period]");period=n.val(),function(){switch(a){case"disabled":return e.hide();case"variable":return e.show().find("tr").show();default:e.show().find("tr").each(function(){period===c(this).data("period")?c(this).show():c(this).hide()})}}()}function t(e,t,a,n,i){var _=this;function r(){if(!(_.merchant_id_el.val().length&&_.public_key_el.val().length&&_.private_key_el.val().length))return _.merchant_account_el.parents("tr").hide();c('<span class="dashicons dashicons-update" style="-webkit-animation: rotation 2s infinite linear;animation: rotation 2s infinite linear;"></span>').insertBefore(_.merchant_account_el),_.merchant_account_el.hide(),_.merchant_account_el.parents("tr").show(),c.ajax({type:"POST",data:{action:"charitable_braintree_get_merchant_accounts",merchant_id:_.merchant_id_el.val(),public_key:_.public_key_el.val(),private_key:_.private_key_el.val(),test_mode:_.test_mode,field_name:_.merchant_account_el.attr("name"),field_classes:_.merchant_account_el.attr("class"),braintree_settings_nonce:c("#braintree_settings_nonce").val()},url:ajaxurl,xhrFields:{withCredentials:!0},success:function(e){window.console&&window.console.log&&console.log(e),_.merchant_account_el.parent("td").html(e.data)}}).fail(function(e){window.console&&window.console.log&&console.log(e)})}this.test_mode=e,this.merchant_account_el=t,this.merchant_id_el=a,this.public_key_el=n,this.private_key_el=i,_.merchant_id_el.on("change",r),_.public_key_el.on("change",r),_.private_key_el.on("change",r),r()}c(document).ready(function(){c("#charitable_settings_gateways_braintree_live_merchant_account_id").length&&(t(!1,c("#charitable_settings_gateways_braintree_live_merchant_account_id"),c("#charitable_settings_gateways_braintree_live_merchant_id"),c("#charitable_settings_gateways_braintree_live_public_key"),c("#charitable_settings_gateways_braintree_live_private_key")),t(!0,c("#charitable_settings_gateways_braintree_test_merchant_account_id"),c("#charitable_settings_gateways_braintree_test_merchant_id"),c("#charitable_settings_gateways_braintree_test_public_key"),c("#charitable_settings_gateways_braintree_test_private_key"))),e()})}(jQuery);